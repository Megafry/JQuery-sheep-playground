<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>jQuery Sheep by Megafry</title>
<link rel="stylesheet" type="text/css" href="./Resources/CSS/Style.css" media="all">
</head>
<body>

<div class="output"></div>

<div class="action hidden-lv">
	<button id="filter">Filter 1</button>
	<button id="filter2">f2</button>
	<button id="filter3">f3</button>
</div>

<section>
<div class="enclosure enclosure_1" data-farme="John's farm">
	<div class="sheep rose"></div>
	<div class="sheep baby"></div>
	<div class="sheep baby"></div>
	<div class="sheep"></div>
	
</div>

<div class="enclosure enclosure_2" data-farme="Dickson's farm">
	<div class="sheep">
		<div class="sheep"></div>
	</div>
	<div class="sheep "></div>
	<div class="sheep black"></div>
	<div class="sheep black baby"></div>
	<div class="sheep"></div>
	
	<div class="sheep rose">
		<div class="sheep"></div>
		<div class="sheep "></div>
	</div>

</div>

<div class="enclosure enclosure_3" data-farme="My farm">

</div>

</section>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script type="text/javascript">

//add a String to the output area
function addOutput(str){
	console.log(str);
	var output = $(".output");
	$('<div class="line">'+str+'</div>').appendTo(output);
}


$( document ).ready(function() {
   
	var numberOfSheep1 = $(".enclosure_1 .sheep").length;

	var numberOfSheep2 = $(".enclosure_2 .sheep").length;


	addOutput("John has "+numberOfSheep1+ " sheep");
	addOutput("Dickson has "+numberOfSheep2+ " sheep");

	$(".enclosure > .sheep:not('.baby')").on("click", function(){
		$(this).append('<div class="sheep"></div>');
	});

	$(".sheep").on("click",".sheep", function(){
		var enclosure = $(this).closest(".enclosure");
		

		enclosure.append( $(this).clone());

		$(this).remove();
		return false;

	});

	$(".enclosure").on("contextmenu", ".sheep", function(e){
		if (confirm("Move this sheep to your farm") == true) {


			$(".enclosure_3").append( $(this).clone());

			 $(this).remove();
		}

	  
	   return false;
	});


	$("#filter").click( function(){
		$(".enclosure").each( function(){

			var enclosure = $(this);

			$(this).children(".sheep").each( function(){
				var e = $(this);

				if(e.hasClass("baby") || e.find(".sheep").length) {
					enclosure.prepend( e.clone());
					e.remove();

				}

			});
		});

	});



});


</script>

</body>

</html>